<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Client Follow-Up Tracker</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
</head>
<body data-theme="light">
    <div id="messageBox" class="message-box"></div>
    <button id="themeSwitcher" class="theme-switch" title="Switch theme">
      <i id="themeIcon" data-lucide="moon"></i>
    </button>
    <main>
        <h1>Client Follow-Up Tracker</h1>
        <div class="actions-row">
          <button id="addClientBtn">Add Client</button>
          <button id="syncBtn">Sync to Google Sheets</button>
          <input type="text" id="searchClients" placeholder="Search clients..." />
        </div>
        <div class="stats" id="statsGrid">
          <div>Due Today: <span id="statDueToday">0</span></div>
          <div>Meetings This Week: <span id="statMeetingsThisWeek">0</span></div>
          <div>Pending Calls: <span id="statPendingCalls">0</span></div>
          <div>Active Clients: <span id="statActiveClients">0</span></div>
          <div>Won This Month: <span id="statWonThisMonth">0</span></div>
          <div>Total Quotations: <span id="statTotalQuotations">0</span></div>
        </div>
        <table class="client-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Company</th>
              <th>Contact</th>
              <th>Salesperson</th>
              <th>Next Action</th>
              <th>Next Follow-Up</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="clientTableBody"></tbody>
        </table>
        <h2>Tasks</h2>
        <div class="tasks-container">
          <div>
            <h3>Hamdi</h3>
            <div id="hamdiTaskList"></div>
          </div>
          <div>
            <h3>Dina</h3>
            <div id="dinaTaskList"></div>
          </div>
        </div>
    </main>
    <!-- Modal: Client -->
    <div class="modal" id="clientModal">
      <div class="modal-content">
        <span class="close" id="closeClientModal">&times;</span>
        <h2 id="modalTitle">Add New Client</h2>
        <form id="clientForm">
          <input type="hidden" id="clientId" />
          <label>Company Name <input type="text" id="companyName" required /></label>
          <label>Contact Person <input type="text" id="contactPerson" required /></label>
          <label>Email <input type="email" id="email" /></label>
          <label>Phone <input type="text" id="phone" /></label>
          <label>Salesperson
            <select id="Salesperson">
              <option value="">Select</option>
              <option value="Hamdi">Hamdi</option>
              <option value="Dina">Dina</option>
            </select>
          </label>
          <label>Current Stage <input type="text" id="currentStage" /></label>
          <label>Next Action <input type="text" id="nextAction" /></label>
          <label>Next Follow-Up <input type="date" id="nextFollowUp" /></label>
          <label>Quotation Amount <input type="number" id="QuoteAmount" /></label>
          <button type="submit">Save</button>
        </form>
      </div>
    </div>
    <!-- Modal: Details -->
    <div class="modal" id="clientDetailsModal">
      <div class="modal-content">
        <span class="close" id="closeClientDetailsModal">&times;</span>
        <h2 id="detailsModalTitle"></h2>
        <div id="clientDetailsContent"></div>
        <label>Notes
          <textarea id="clientNotes"></textarea>
        </label>
        <button id="saveNotesBtn">Save Notes</button>
        <button id="editFromDetailsBtn">Edit</button>
      </div>
    </div>
    <!-- Modal: Email -->
    <div class="modal" id="emailModal">
      <div class="modal-content">
        <span class="close" id="closeEmailModal">&times;</span>
        <h2>Email Client</h2>
        <div>
          <button class="email-template-btn" data-template="initial">Initial Contact</button>
          <button class="email-template-btn" data-template="followUp">Follow Up</button>
          <button class="email-template-btn" data-template="proposal">Proposal</button>
        </div>
        <button id="sendEmailBtn">Send Email</button>
      </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
